<?xml version="1.0" ?>
<robot xmlns:xacro="http://www.ros.org/wiki/xacro">
  
    <xacro:macro name="gripper" params="gripper_name hardware_interface parent">

        <!-- include gazebo specifications -->
        <xacro:include filename="$(find gripper_description)/urdf/gripper.gazebo.xacro"/>

        <!-- include transmission for ros_control -->
        <xacro:include filename="$(find gripper_description)/urdf/gripper.transmission.xacro"/>

        <!--joint between {parent} and link_0-->
        <joint name="${parent}_${gripper_name}_joint" type="fixed">
            <parent link="${parent}"/>
            <child link="${gripper_name}_link_0"/>
            <origin rpy="0 0 1.57079632679" xyz="0 0 0"/>
        </joint>

        <link name="${gripper_name}_link_0">
            <inertial>
                <origin rpy="0 0 0" xyz="-6.432910810921765e-05 -0.01226896702938846 0.04229819263832419"/>
                <mass value="3.001662804726904"/>
                <inertia ixx="0.013056" ixy="1e-05" ixz="4e-06" iyy="0.002133" iyz="0.000838" izz="0.012592"/>
            </inertial>
            <visual>
                <origin rpy="0 0 0" xyz="0 0 0"/>
                <geometry>
                    <mesh filename="package://gripper_description/meshes/visual/link_0.stl"/>
                </geometry>
                <material name="silver">
                    <color rgba="1 0 0 1"/>
                </material>
            </visual>
            <collision>
                <origin rpy="0 0 0" xyz="0 0 0"/>
                <geometry>
                    <mesh filename="package://gripper_description/meshes/collision/link_0.stl"/>
                </geometry>
            </collision>
        </link>

        <joint name="${gripper_name}_joint_1" type="continuous">
            <origin rpy="0 0 0" xyz="0.0 -0.417886 0.064767"/>
            <parent link="${gripper_name}_link_0"/>
            <child link="${gripper_name}_link_1"/>
            <axis xyz="-0.0 -0.01 8.3e-05"/>
        </joint>

        <link name="${gripper_name}_link_1">
            <inertial>
                <origin rpy="0 0 0" xyz="7.83131813835923e-13 -0.00327664993849075 2.7009925125554002e-05"/>
                <mass value="0.0026081265321506496"/>
                <inertia ixx="0.0" ixy="-0.0" ixz="0.0" iyy="0.0" iyz="0.0" izz="0.0"/>
            </inertial>
            <visual>
                <origin rpy="0 0 0" xyz="0.0 0.417886 -0.064767"/>
                <geometry>
                    <mesh filename="package://gripper_description/meshes/visual/link_1.stl"/>
                </geometry>
                <material name="silver">
                    <color rgba="1 0 0 1"/>
                </material>
            </visual>
            <collision>
                <origin rpy="0 0 0" xyz="0.0 0.417886 -0.064767"/>
                <geometry>
                    <mesh filename="package://gripper_description/meshes/collision/link_1.stl"/>
                </geometry>
            </collision>
        </link>

        <joint name="${gripper_name}_joint_2" type="revolute">
            <origin rpy="0 0 0" xyz="0.004011 -0.0091 7.5e-05"/>
            <parent link="${gripper_name}_link_1"/>
            <child link="${gripper_name}_link_2"/>
            <axis xyz="0.01 0.0 0.0"/>
            <limit effort="100" lower="-1.570796" upper="1.570796" velocity="100"/>
        </joint>

        <link name="${gripper_name}_link_2">
            <inertial>
                <origin rpy="0 0 0" xyz="-0.004011372054136788 -0.0036950459896274435 -1.8961420446314547e-05"/>
                <mass value="0.002076310514419514"/>
                <inertia ixx="0.0" ixy="-0.0" ixz="-0.0" iyy="0.0" iyz="0.0" izz="0.0"/>
            </inertial>
            <visual>
                <origin rpy="0 0 0" xyz="-0.004011 0.426986 -0.064842"/>
                <geometry>
                    <mesh filename="package://gripper_description/meshes/visual/link_2.stl"/>
                </geometry>
                <material name="silver">
                    <color rgba="1 0 0 1"/>
                </material>
            </visual>
            <collision>
                <origin rpy="0 0 0" xyz="-0.004011 0.426986 -0.064842"/>
                <geometry>
                    <mesh filename="package://gripper_description/meshes/collision/link_2.stl"/>
                </geometry>
            </collision>
        </link>

        <joint name="${gripper_name}_joint_3" type="revolute">
            <origin rpy="0 0 0" xyz="-0.003995 -0.008884 0.001974"/>
            <parent link="${gripper_name}_link_2"/>
            <child link="${gripper_name}_link_3"/>
            <axis xyz="-8.3e-05 -8.3e-05 -0.009999"/>
            <limit effort="100" lower="-1.047198" upper="2.094395" velocity="100"/>
        </joint>

        <link name="${gripper_name}_link_3">
            <inertial>
                <origin rpy="0 0 0" xyz="0.004525594967446788 -0.006690181259015049 -0.0015230283617313073"/>
                <mass value="0.000770269058655591"/>
                <inertia ixx="0.0" ixy="0.0" ixz="0.0" iyy="0.0" iyz="-0.0" izz="0.0"/>
            </inertial>
                <visual>
                <origin rpy="0 0 0" xyz="-1.6e-05 0.43587 -0.066816"/>
                <geometry>
                    <mesh filename="package://gripper_description/meshes/visual/link_3.stl"/>
                </geometry>
                <material name="silver">
                    <color rgba="1 0 0 1"/>
                </material>
            </visual>
            <collision>
                <origin rpy="0 0 0" xyz="-1.6e-05 0.43587 -0.066816"/>
                <geometry>
                    <mesh filename="package://gripper_description/meshes/collision/link_3.stl"/>
                </geometry>
            </collision>
        </link>

        <joint name="${gripper_name}_joint_4" type="revolute">
            <origin rpy="0 0 0" xyz="-0.004028 -0.008916 -0.001926"/>
            <parent link="${gripper_name}_link_2"/>
            <child link="${gripper_name}_link_4"/>
            <axis xyz="8.3e-05 8.3e-05 0.009999"/>
            <limit effort="100" lower="-1.047198" upper="2.094395" velocity="100"/>
        </joint>

        <link name="${gripper_name}_link_4">
            <inertial>
                <origin rpy="0 0 0" xyz="-0.004531793856768577 -0.006670291152332475 0.00163086900587045"/>
                <mass value="0.0007630222199738701"/>
                <inertia ixx="0.0" ixy="-0.0" ixz="0.0" iyy="0.0" iyz="0.0" izz="0.0"/>
            </inertial>
            <visual>
                <origin rpy="0 0 0" xyz="1.7e-05 0.435902 -0.062916"/>
                <geometry>
                    <mesh filename="package://gripper_description/meshes/visual/link_4.stl"/>
                </geometry>
                <material name="silver">
                    <color rgba="1 0 0 1"/>
                </material>
            </visual>
            <collision>
                <origin rpy="0 0 0" xyz="1.7e-05 0.435902 -0.062916"/>
                <geometry>
                    <mesh filename="package://gripper_description/meshes/collision/link_4.stl"/>
                </geometry>
            </collision>
        </link>

        <joint name="${gripper_name}_joint_ee" type="fixed">
            <origin rpy="0 0 0" xyz="-0.004028 -0.028766 -0.001926"/>
            <parent link="${gripper_name}_link_2"/>
            <child link="${gripper_name}_ee"/> 
        </joint>

        <link name="${gripper_name}_ee">
        </link>

        <!-- extensions -->
        <xacro:gripper_gazebo gripper_name="${gripper_name}"/>
        <xacro:gripper_transmission hardware_interface="${hardware_interface}" gripper_name="${gripper_name}"/>

    </xacro:macro>

</robot>
